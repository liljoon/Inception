# This is a default site configuration which will simply return 404, preventing
# chance access to any other virtualhost.

server {
        listen 80 default_server;
        listen [::]:80 default_server;

        root /wordpress;

        index index.php;
        # Everything is a 404
        # location / {
        #     index index.php;
        #     fastcgi_pass wordpress:9000;
        #     fastcgi_param  SCRIPT_FILENAME /var/www/html$fastcgi_script_name;
        # }

        location ~ \.php$ {
            fastcgi_pass   wordpress:9000;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
            include        fastcgi_params;
        }

        location ~ \.(css|js|ico|gif|svg) {
            root /wordpress;
        }



        # You may need this to prevent return 404 recursion.
        location = /404.html {
                internal;
        }
}
