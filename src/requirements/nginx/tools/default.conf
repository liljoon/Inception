# This is a default site configuration which will simply return 404, preventing
# chance access to any other virtualhost.

server {
        listen 80 default_server;
        listen [::]:80 default_server;

        # Everything is a 404
        # location / {
        #         # proxy_pass http://wordpress:3000;
        #         # return 404;
        # }

        location ~ \.php$ {
            include /etc/nginx/fastcgi_params;
            fastcgi_pass wordpress:9000;
            fastcgi_param  SCRIPT_FILENAME /var/www/html$fastcgi_script_name;
            fastcgi_index index.php;
        }

        # You may need this to prevent return 404 recursion.
        location = /404.html {
                internal;
        }
}
